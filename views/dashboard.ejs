<!DOCTYPE html>
<html>
  <%- include('partials/header'); %>
  <body>
    <%- include('partials/navbar'); %>
    <div class="container">
      <div class="d-flex justify-content-between align-items-center">
        <h1 class="fs-1 my-4">Contacts List</h1>
        <a href="/dashboard/add-contact" class="btn btn-dark">Add Contact</a>
      </div>
      <!-- contacts list -->
      <% if(messages.success) { %>
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        <%= messages.success %>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      <% } %> <% if(messages.error) { %>
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <%= messages.error %>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      <% } %>

      <table class="table">
        <thead class="thead-dark">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Number</th>
            <th scope="col">Email</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% newListItems.forEach(function(item,index){ %>
          <tr>
            <th scope="row"><%= index+1%></th>
            <td><%= item.name%></td>
            <td><%= item.number%></td>
            <td><%= item.email%></td>
            <td class="d-flex gap-4">
              <a class="btn btn-success" href="/dashboard/update/<%=item._id%>"
                >Edit</a
              >
              <a class="btn btn-danger" href="/dashboard/delete/<%=item._id%>"
                >Delete</a
              >
            </td>
          </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </body>
</html>
